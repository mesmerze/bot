= hook(:account_top_section, self, f: f) do
  .section
    %table
      %tr
        %td(colspan="5")
          .label.top.req #{t :name}:
          = f.text_field :name, autofocus: true, style: "width:500px"
      %tr
        %td
          .label #{t :assigned_to}:
          = user_select(asset: :account, users: User.without_user(current_user))
        %td= spacer
        %td
          .label #{t :category}:
          = f.select :category, Setting.unroll(:account_category), { selected: @account.category&.to_sym, include_blank: t(:none_specified) }, { style: "width:160px", class: 'select2' }
        %td= spacer
        %td
          .label #{t :rating}:
          = rating_select "account[rating]", { id: :account_rating, selected: @account.rating, style: "width:160px" }
      %tr
        %td
          = fields_for(@org) do |o|
            = o.hidden_field :user_id
            = o.hidden_field :access
            = o.hidden_field :assigned_to
            != org_select_or_create(o) do |options|
              -# Add [-- None --] org choice when editing existing opportunity that has an org.
              - options[:selected] = @org.id.to_i
              - options[:label] = 'req'


        %td= spacer
        %td
          .label{ style: "display:inline-block" } #{t :country}:
          .label{ style: "display:inline-block" } #{t :online_review}:
          = f.select :country, Setting.unroll(:countries), {:include_blank => 'None'}, { :style => "display:inline-block; width:60px;" }
          = f.text_field :online_review, { style: "display:inline-block; width:60px;" }

      - if Setting.background_info && Setting.background_info.include?(:account)
        %tr
          %td(colspan="5")
            .label= t(:background_info) + ':'
            = f.text_area :background_info, style: "width:500px", rows: 3

      = render partial: "/shared/tags", locals: {f: f, span: 3}

      = hook(:account_top_section_bottom, self, f: f)
